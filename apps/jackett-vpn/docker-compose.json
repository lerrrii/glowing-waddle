{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "jackett-vpn",
      "image": "dyonr/jackettvpn:latest",
      "isMain": true,
      "internalPort": 9117,
      "environment": {
        "VPN_ENABLED": "${VPN_ENABLED-yes}",
        "VPN_TYPE": "${VPN_TYPE-openvpn}",
        "VPN_USERNAME": "${VPN_USERNAME}",
        "VPN_PASSWORD": "${VPN_PASSWORD}",
        "WEBUI_PASSWORD": "${WEBUI_PASSWORD}",
        "LAN_NETWORK": "${LAN_NETWORK}",
        "NAME_SERVERS": "${NAME_SERVERS-1.1.1.1,1.0.0.1}",
        "PUID": "${PUID-1000}",
        "PGID": "${PGID-1000}",
        "UMASK": "${UMASK-002}",
        "WEBUI_PORT": "${WEBUI_PORT-9117}",
        "HEALTH_CHECK_HOST": "${HEALTH_CHECK_HOST-1.1.1.1}",
        "HEALTH_CHECK_INTERVAL": "${HEALTH_CHECK_INTERVAL-300}",
        "HEALTH_CHECK_SILENT": "${HEALTH_CHECK_SILENT-1}",
        "ADDITIONAL_PORTS": "${ADDITIONAL_PORTS}"
      },
      "volumes": [
        { "hostPath": "${APP_DATA_DIR}/config", "containerPath": "/config" },
        { "hostPath": "${ROOT_FOLDER_HOST}/blackhole", "containerPath": "/blackhole" }
      ],
      "ports": [
        { "hostPort": "${APP_PORT}", "containerPort": 9117 }
      ],
      "logging": { "driver": "json-file", "options": { "max-size": "10m" } },
      "restart": "unless-stopped"
    }
  ]
}
