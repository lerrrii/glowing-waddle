{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "jackett-vpn",
      "image": "dyonr/jackettvpn:latest",
      "isMain": true,
      "internalPort": 9117,
      "environment": {
        "PUID": "${PUID-1000}",
        "PGID": "${PGID-1000}",
        "TZ": "${TZ}",
        "VPN_ENABLED": "${VPN_ENABLED-yes}",
        "VPN_TYPE": "${VPN_TYPE-wireguard}",
        "LAN_NETWORK": "${LAN_NETWORK-192.168.0.0/16,172.16.0.0/12,10.0.0.0/8}",
        "NAME_SERVERS": "${NAME_SERVERS-1.1.1.1,1.0.0.1}",
        "UMASK": "${UMASK-002}",
        "VPN_USERNAME": "${VPN_USERNAME}",
        "VPN_PASSWORD": "${VPN_PASSWORD}"
      },
      "capabilities": ["NET_ADMIN"],
      "devices": ["/dev/net/tun:/dev/net/tun"],
      "sysctls": {
        "net.ipv4.conf.all.src_valid_mark": 1
      },
      "privileged": true,
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/config"
        },
        {
          "hostPath": "${APP_DATA_DIR}/data/wireguard",
          "containerPath": "/config/wireguard"
        },
        {
          "hostPath": "${APP_DATA_DIR}/data/openvpn",
          "containerPath": "/config/openvpn"
        },
        {
          "hostPath": "${ROOT_FOLDER_HOST}/media/torrents",
          "containerPath": "/blackhole"
        }
      ]
    }
  ]
}
