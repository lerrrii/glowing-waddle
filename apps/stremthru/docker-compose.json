{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "stremthru",
      "image": "muniftanjim/stremthru:latest",
      "isMain": true,
      "internalPort": 8080,
      "environment": {
        "STREMTHRU_HTTP_PROXY": "${STREMTHRU_HTTP_PROXY}",
        "STREMTHRU_TUNNEL": "${STREMTHRU_TUNNEL}",
        "STREMTHRU_PROXY_AUTH": "${STREMTHRU_PROXY_AUTH}",
        "STREMTHRU_STORE_AUTH": "${STREMTHRU_STORE_AUTH}",
        "STREMTHRU_PEER_URI": "${STREMTHRU_PEER_URI}",
        "STREMTHRU_REDIS_URI": "${STREMTHRU_REDIS_URI}",
        "STREMTHRU_DATABASE_URI": "${STREMTHRU_DATABASE_URI:-sqlite://./data/stremthru.db}",
        "STREMTHRU_STREMIO_ADDON": "${STREMTHRU_STREMIO_ADDON}"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/stremthru",
          "containerPath": "/app/data"
        }
      ],
      "restart": "unless-stopped"
    }
  ]
}
