{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "aiostreams",
      "image": "ghcr.io/viren070/aiostreams:latest",
      "isMain": true,
      "internalPort": 3000,
      "healthcheck": {
        "test": ["CMD-SHELL","wget -qO- http://localhost:3000/health || exit 1"],
        "interval": "1m",
        "timeout": "10s",
        "retries": 5,
        "start_period": "10s"
      },
      "environment": {
        "ADDON_NAME": "${ADDON_NAME}",
        "ADDON_ID": "${ADDON_ID}",
        "DETERMINISTIC_ADDON_ID": "${DETERMINISTIC_ADDON_ID}",
        "PORT": "${PORT}",
        "SECRET_KEY": "${SECRET_KEY}",
        "API_KEY": "${API_KEY}",
        "SHOW_DIE": "${SHOW_DIE}",
        "LOG_LEVEL": "${LOG_LEVEL}",
        "LOG_FORMAT": "${LOG_FORMAT}",
        "LOG_SENSITIVE_INFO": "${LOG_SENSITIVE_INFO}",
        "ADDON_PROXY": "${ADDON_PROXY}",
        "ADDON_PROXY_CONFIG": "${ADDON_PROXY_CONFIG}",
        
        "MAX_ADDONS": "${MAX_ADDONS}",
        "MAX_KEYWORD_FILTERS": "${MAX_KEYWORD_FILTERS}",
        "MAX_REGEX_SORT_PATTERNS": "${MAX_REGEX_SORT_PATTERNS}",
        "MAX_MOVIE_SIZE": "${MAX_MOVIE_SIZE}",
        "MAX_EPISODE_SIZE": "${MAX_EPISODE_SIZE}",
        "MAX_TIMEOUT": "${MAX_TIMEOUT}",
        "MIN_TIMEOUT": "${MIN_TIMEOUT}",
        "DEFAULT_TIMEOUT": "${DEFAULT_TIMEOUT}",
        
        "DEFAULT_REGEX_EXCLUDE_PATTERN": "${DEFAULT_REGEX_EXCLUDE_PATTERN}",
        "DEFAULT_REGEX_INCLUDE_PATTERN": "${DEFAULT_REGEX_INCLUDE_PATTERN}",
        "DEFAULT_REGEX_SORT_PATTERNS": "${DEFAULT_REGEX_SORT_PATTERNS}",
        
        "MEDIAFLOW_IP_TIMEOUT": "${MEDIAFLOW_IP_TIMEOUT}",
        "DEFAULT_MEDIAFLOW_URL": "${DEFAULT_MEDIAFLOW_URL}",
        "DEFAULT_MEDIAFLOW_API_PASSWORD": "${DEFAULT_MEDIAFLOW_API_PASSWORD}",
        "DEFAULT_MEDIAFLOW_PUBLIC_IP": "${DEFAULT_MEDIAFLOW_PUBLIC_IP}",
        "ENCRYPT_MEDIAFLOW_URLS": "${ENCRYPT_MEDIAFLOW_URLS}",
        
        "STREMTHRU_TIMEOUT": "${STREMTHRU_TIMEOUT}",
        "DEFAULT_STREMTHRU_URL": "${DEFAULT_STREMTHRU_URL}",
        "DEFAULT_STREMTHRU_CREDENTIAL": "${DEFAULT_STREMTHRU_CREDENTIAL}",
        "DEFAULT_STREMTHRU_PUBLIC_IP": "${DEFAULT_STREMTHRU_PUBLIC_IP}",
        "ENCRYPT_STREMTHRU_URLS": "${ENCRYPT_STREMTHRU_URLS}",
        
        "COMET_URL": "${COMET_URL}",
        "DEFAULT_COMET_TIMEOUT": "${DEFAULT_COMET_TIMEOUT}",
        "FORCE_COMET_HOSTNAME": "${FORCE_COMET_HOSTNAME}",
        "FORCE_COMET_PORT": "${FORCE_COMET_PORT}",
        "FORCE_COMET_PROTOCOL": "${FORCE_COMET_PROTOCOL}",
        
        "MEDIAFUSION_URL": "${MEDIAFUSION_URL}",
        "DEFAULT_MEDIAFUSION_TIMEOUT": "${DEFAULT_MEDIAFUSION_TIMEOUT}",
        "MEDIAFUSION_CONFIG_TIMEOUT": "${MEDIAFUSION_CONFIG_TIMEOUT}",
        "MEDIAFUSION_API_PASSWORD": "${MEDIAFUSION_API_PASSWORD}",
        
        "JACKETTIO_URL": "${JACKETTIO_URL}",
        "DEFAULT_JACKETTIO_INDEXERS": "${DEFAULT_JACKETTIO_INDEXERS}",
        "DEFAULT_JACKETTIO_TIMEOUT": "${DEFAULT_JACKETTIO_TIMEOUT}",
        "DEFAULT_JACKETTIO_STREMTHRU_URL": "${DEFAULT_JACKETTIO_STREMTHRU_URL}",
        "FORCE_JACKETTIO_HOSTNAME": "${FORCE_JACKETTIO_HOSTNAME}",
        "FORCE_JACKETTIO_PORT": "${FORCE_JACKETTIO_PORT}",
        "FORCE_JACKETTIO_PROTOCOL": "${FORCE_JACKETTIO_PROTOCOL}",
        
        "STREMIO_JACKETT_URL": "${STREMIO_JACKETT_URL}",
        "DEFAULT_STREMIO_JACKETT_JACKETT_URL": "${DEFAULT_STREMIO_JACKETT_JACKETT_URL}",
        "DEFAULT_STREMIO_JACKETT_JACKETT_API_KEY": "${DEFAULT_STREMIO_JACKETT_JACKETT_API_KEY}",
        "DEFAULT_STREMIO_JACKETT_TMDB_API_KEY": "${DEFAULT_STREMIO_JACKETT_TMDB_API_KEY}",
        "DEFAULT_STREMIO_JACKETT_TIMEOUT": "${DEFAULT_STREMIO_JACKETT_TIMEOUT}",
        
        "STREMTHRU_STORE_URL": "${STREMTHRU_STORE_URL}",
        "DEFAULT_STREMTHRU_STORE_TIMEOUT": "${DEFAULT_STREMTHRU_STORE_TIMEOUT}",
        
        "TORRENTIO_URL": "${TORRENTIO_URL}",
        "DEFAULT_TORRENTIO_TIMEOUT": "${DEFAULT_TORRENTIO_TIMEOUT}",
        
        "TORBOX_STREMIO_URL": "${TORBOX_STREMIO_URL}",
        "DEFAULT_TORBOX_STREMIO_TIMEOUT": "${DEFAULT_TORBOX_STREMIO_TIMEOUT}",
        
        "PEERFLIX_URL": "${PEERFLIX_URL}",
        "DEFAULT_PEERFLIX_TIMEOUT": "${DEFAULT_PEERFLIX_TIMEOUT}",
        
        "EASYNEWS_PLUS_URL": "${EASYNEWS_PLUS_URL}",
        "DEFAULT_EASYNEWS_PLUS_TIMEOUT": "${DEFAULT_EASYNEWS_PLUS_TIMEOUT}",
        
        "EASYNEWS_PLUS_PLUS_URL": "${EASYNEWS_PLUS_PLUS_URL}",
        "DEFAULT_EASYNEWS_PLUS_PLUS_TIMEOUT": "${DEFAULT_EASYNEWS_PLUS_PLUS_TIMEOUT}",
        
        "ORION_STREMIO_ADDON_URL": "${ORION_STREMIO_ADDON_URL}",
        "DEFAULT_ORION_STREMIO_ADDON_TIMEOUT": "${DEFAULT_ORION_STREMIO_ADDON_TIMEOUT}",
        
        "EASYNEWS_URL": "${EASYNEWS_URL}",
        "DEFAULT_EASYNEWS_TIMEOUT": "${DEFAULT_EASYNEWS_TIMEOUT}",
        
        "DEBRIDIO_URL": "${DEBRIDIO_URL}",
        "DEFAULT_DEBRIDIO_TIMEOUT": "${DEFAULT_DEBRIDIO_TIMEOUT}",
        
        "DEFAULT_DMM_CAST_TIMEOUT": "${DEFAULT_DMM_CAST_TIMEOUT}",
        "DEFAULT_STREMIO_GDRIVE_TIMEOUT": "${DEFAULT_STREMIO_GDRIVE_TIMEOUT}"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/aiostreams",
          "containerPath": "/app/data"
        }
      ]
    }
  ]
}
