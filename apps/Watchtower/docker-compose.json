{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "watchtower",
      "image": "containrrr/watchtower:latest",
      "isMain": true,
      "internalPort": 8080,
      "environment": {
        "WATCHTOWER_SCHEDULE": "${WATCHTOWER_SCHEDULE}",
        "WATCHTOWER_CLEANUP": "${WATCHTOWER_CLEANUP}",
        "WATCHTOWER_LABEL_ENABLE": "${WATCHTOWER_LABEL_ENABLE}",
        "WATCHTOWER_UI": "${WATCHTOWER_UI}"
      },
      "command": [
        "--schedule", "${WATCHTOWER_SCHEDULE}",
        "--cleanup", "${WATCHTOWER_CLEANUP}",
        "--label-enable", "${WATCHTOWER_LABEL_ENABLE}",
        "${WATCHTOWER_UI:+--http-api-server}"
      ],
      "volumes": [
        {
          "hostPath": "/var/run/docker.sock",
          "containerPath": "/var/run/docker.sock"
        }
      ]
    }
  ]
}
